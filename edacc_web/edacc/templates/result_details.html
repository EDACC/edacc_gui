{% extends "base.html" %}
{% block title %}Result of {{solver.name}} on {{instance.name}}{% endblock %}
{% block content %}
    <div class="navigation">
        Â» <a href="{{url_for('experiments_index', database=database)}}">Experiments</a> ::
        <a href="{{url_for('experiment', database=database, experiment_id=experiment.idExperiment)}}">{{experiment.name}}</a> ::
        Result of {{solver.name}} on {{instance.name}}
    </div>
    <h2>Result of <a href="{{url_for('solver_configuration_details', database=database, experiment_id=experiment.idExperiment, solver_configuration_id=solver_config.idSolverConfig)}}">{{solver_config.get_name()}}</a> on <a href="{{url_for('instance_details', database=database, instance_id=instance.idInstance)}}">{{instance.name}}</a>, Run #{{result.run}}</h2>

    <table class="details">
        <tr class="odd">
            <td>Status:</td>
            <td>{{result.status|job_status}}</td>
        </tr>
        <tr class="even">
            <td>Result:</td>
            <td>{{result.resultCode|result_code}}</td>
        </tr>
        <tr class="odd">
            <td>CPU Time</td>
            <td>{{result.get_time()|round(2)}}</td>
        </tr>
        {% for prop in db.get_result_properties() %}
        <tr class="{{'even' if loop.index0 % 2 == 0 else 'odd'}}">
            <td>{{prop.name}}:</td><td>{% if result.get_property_value(prop.idProperty, db) == None %}not yet calculated{% else %}{{result.get_property_value(prop.idProperty, db)}}{% endif %}</td>
        </tr>
        {% endfor %}
    </table>

    <h3>Solver output:</h3>
    (<a href="{{url_for('solver_output_download', database=database, experiment_id=experiment.idExperiment, result_id=result.idJob)}}">Download</a>)
    <pre>{{solverOutput_text}}</pre>

    <h3>Launcher output:</h3>
    (<a href="{{url_for('launcher_output_download', database=database, experiment_id=experiment.idExperiment, result_id=result.idJob)}}">Download</a>)
    <pre>{{launcherOutput_text}}</pre>

    <h3>Watcher output:</h3>
    (<a href="{{url_for('watcher_output_download', database=database, experiment_id=experiment.idExperiment, result_id=result.idJob)}}">Download</a>)
    <pre>{{watcherOutput_text}}</pre>

    <h3>Verifier output:</h3>
    (<a href="{{url_for('verifier_output_download', database=database, experiment_id=experiment.idExperiment, result_id=result.idJob)}}">Download</a>)
    <pre>{{verifierOutput_text}}</pre>

{% endblock %}